{% extends 'admin/base.html.twig' %}

{% block title %}Edit flavor{% endblock %}

{% block body %}
    {% block header %}
        {% include "admin/partials/_header.html.twig" %}
    {% endblock %}
    <main>
        {% block aside %}
            {% include "admin/partials/_aside.html.twig" %}
        {% endblock %}
        <section class="section--dashboard">
            {% if not flavors is same as([]) %}
                <div class="table">
                    <div class="table-tr">
                        <div class="table-th" scope="col">#</div>
                        <div class="table-th" scope="col">ID</div>
                        <div class="table-th" scope="col">Image</div>
                        <div class="table-th" scope="col">Name</div>
                        <div class="table-th" scope="col">Price</div>
                        <div class="table-th" scope="col">Stock</div>
                        <div class="table-th" scope="col">Topping</div>
                        <div class="table-th" scope="col">Edit</div>
                    </div>
                    {% for flavor in flavors %}
                        {% if flavorCurrent.id == flavor.id %}
                            {{ include('admin/form/_form.html.twig', { form: form, button: 'Editer' }) }}
                        {% else %}
                            <div class="table-tr">
                                <div class="table-th" scope="row">{{ loop.index }}</div>
                                <div class="table-td">{{ flavor.id }}</div>
                                <div class="table-td">image</div>
                                <div class="table-td">{{ flavor.name }}</div>
                                <div class="table-td">{{ flavor.formatedPrice }} chf</div>
                                <div class="table-td">{{ flavor.inStock }}</div>
                                <div class="table-td">{{ flavor.getisTopping }}</div>
                                <div class="table-td">
                                    <a href="{{ path('admin.flavor.edit', {id: flavor.id, slug: flavor.slug}) }}" class="inline-block">
                                        <button class="btn-icon btn-icon--success">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="26.261" height="26.261"
                                                 viewBox="0 0 26.261 26.261">
                                                <path id="edit_FILL0_wght400_GRAD0_opsz48"
                                                      d="M122.15,227.111h1.576L139.6,211.24l-1.576-1.576L122.15,225.535Zm22-17.412-4.586-4.586,1.5-1.5a2.163,2.163,0,0,1,3.009,0l1.576,1.576a2.163,2.163,0,0,1,0,3.009Zm-1.5,1.5-18.057,18.057H120v-4.586l18.057-18.057Zm-3.833-.752-.788-.788,1.576,1.576Z"
                                                      transform="translate(-120 -203)" fill="#fff"/>
                                            </svg>
                                        </button>
                                    </a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% else %}
                <h3>La table de parfum est vide !</h3>
            {% endif %}
        </section>
    </main>
{% endblock %}
